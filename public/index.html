<!doctype html>
<html lang="en">
  <div class="topnav">
      <a href="https://cmcourville-a2-shortstack.glitch.me/">Home</a>
      <a  href="https://cmcourville-a2-shortstack.glitch.me/library.html">Library</a>
    <a  href="https://cmcourville-a2-shortstack.glitch.me/">Submit Another Book</a>
  </div>
  <head>
    <title>a2-cmcourville-home</title>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="utf-8">
  </head>
  <body>
    <h1 id="myHeader">Book Recommendations</h1>
    <h2 id="subHeading">Please help a foreign, but not fogotten, form of entertainment live eternally</h2>
    <div id = "userInput">
      <form action="">
        <input type="text" id="title" value="Title">
        <input type="text" id="author" value="Author">
        <input type="text" id="comment" value="Comment">
        <button id="button">Add Book</button>
      </form>
    </div>
    
  </body>
  <script>
  const addBook = function( e ) {
    // prevent default form action from being carried out
    e.preventDefault()
    const  title= document.querySelector( '#title' ).value
    const author = document.querySelector( '#author' ).value
    const comment = document.querySelector( '#comment' ).value
    const input = { 'title': title, 'author': author, 'comment': comment }
    console.log(title)
    body = JSON.stringify( input )
    fetch( '/addBook', {
      method:'POST',
      body
    })
    .then( function( response ) {
      console.log( response )
    })
    return false
  }
  window.onload = function() {
    const addButton = document.querySelector( 'button' )
    addButton.onclick = addBook
    localStorage.clear(); 
  }
  </script>
</html>